<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Guild Leads</title>
<style>
body { background:#0f172a; color:#e5e7eb; font-family: system-ui; padding:40px; }
h1 { margin-bottom:20px; }
ul { list-style:none; padding:0; max-width:600px; }
li { background:#1e293b; margin:10px 0; border-radius:10px; }
a { display:flex; justify-content:space-between; padding:14px 18px; text-decoration:none; color:#93c5fd; }
small { opacity:0.7; }
</style>
</head>
<body>

<h1>ðŸ§­ Guild Leads</h1>
<ul id="list"></ul>

<script>
const USER = "DEINNAME";
const REPO = "REPO";
const PATH = "leads";

fetch(`https://api.github.com/repos/${USER}/${REPO}/commits?path=${PATH}`)
.then(r => r.json())
.then(data => {
    const map = {};
    data.forEach(c => {
        c.files?.forEach(f => {
            if (f.filename.startsWith(PATH + "/")) {
                map[f.filename] = c.commit.author.date;
            }
        });
    });

    const entries = Object.entries(map)
        .sort((a,b)=> new Date(b[1]) - new Date(a[1]));

    const ul = document.getElementById("list");
    entries.forEach(([file, date]) => {
        const name = file.split("/").pop();
        const li = document.createElement("li");
        li.innerHTML = `<a href="${file}">${name}<small>${new Date(date).toLocaleDateString()}</small></a>`;
        ul.appendChild(li);
    });
});
</script>

</body>
</html>
